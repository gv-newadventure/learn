public interface IRemapRepository
{
    Task<IReadOnlyList<ClaimedWork>> ClaimNextBatchGlobalAsync(int batchSize, CancellationToken ct);
    Task<RemapJob?> GetJobAsync(int remapId, CancellationToken ct);
    Task<IReadOnlyList<FieldRule>> LoadRulesAsync(int remapId, CancellationToken ct);
    Task<IReadOnlyList<DocumentRecord>> GetDocumentsAsync(IEnumerable<Guid> docKeys, CancellationToken ct);
    Task ApplyBatchAsync(int remapId, IEnumerable<TransformedDoc> results, CancellationToken ct);
}
